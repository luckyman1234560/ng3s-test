<!DOCTYPE html>
<html lang="zh-Hant">
    <head>
        <meta charset="UTF-8">
        <title>廣韻猜聲母</title> 
        <meta name="author" content="我">
        <meta name="description" content="首頁">
        <meta name="keywords" content="網站">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Cactus+Classical+Serif&family=Noto+Sans+TC:wght@100..900&display=swap" rel="stylesheet">
        <style>
            .q{
                font-family: 'Cactus Classical Serif';
                font-size: 200px;
                margin: 0px;
                padding: 0px;
            }
            .area{
                margin: 20px;
                width: 300px;
                padding: 0px;
                border: 0px;
                justify-content: center;
                text-align: center;
            }
            .kb{
                display: inline flex;
                width: 260px;
                margin: 0px;
                padding: 0px;
                border: 0px;
                justify-content: center;
            }
            .kb button{
                display: inline;
                padding: 0px;
                margin: 5px;
                font-size: 30px;
                border: 0px;
                color: black;
                border-radius: 20%;
                width: 50px;
                height: 50px;
                font-family: 'Cactus Classical Serif';
            }

            .kb button:hover{
                font-weight: 800;
                cursor: hand;
            }
        </style>
    </head>
    <body>
        <p id="input_box" style="text-align: center; font-family: 'Cactus Classical Serif'; font-size: 20px;">還沒開始呢！隨機按一個鍵</p>
        <div class="q" style="text-align: center;" id="word">字</div>
        <div style="display: flex; justify-content: center;">
            <div class="area">
                <div class="kb">
                    <button onclick="press_button('幫')" style="background-color: rgb(255, 102, 102);">幫</button>
                    <button onclick="press_button('滂')" style="background-color: rgb(255, 102, 102);">滂</button>
                    <button onclick="press_button('並')" style="background-color: rgb(255, 102, 102);">並</button>
                    <button onclick="press_button('明')" style="background-color: rgb(255, 102, 102);">明</button>
                </div>
                <div class="kb">
                    <button onclick="press_button('端')" style="background-color: rgb(94, 255, 0);">端</button>
                    <button onclick="press_button('透')" style="background-color: rgb(94, 255, 0);">透</button>
                    <button onclick="press_button('定')" style="background-color: rgb(94, 255, 0);">定</button>
                    <button onclick="press_button('泥')" style="background-color: rgb(94, 255, 0);">泥</button>
                </div>
                <div class="kb">
                    <button onclick="press_button('知')" style="background-color: rgb(0, 255, 136);">知</button>
                    <button onclick="press_button('徹')" style="background-color: rgb(0, 255, 136);">徹</button>
                    <button onclick="press_button('澄')" style="background-color: rgb(0, 255, 136);">澄</button>
                    <button onclick="press_button('孃')" style="background-color: rgb(0, 255, 136);">孃</button>
                </div>
            </div>
            <div class="area">
                <div class="kb">
                    <button onclick="press_button('精')" style="background-color: rgb(0, 8, 255);">精</button>
                    <button onclick="press_button('清')" style="background-color: rgb(0, 8, 255);">清</button>
                    <button onclick="press_button('從')" style="background-color: rgb(0, 8, 255);">從</button>
                    <button onclick="press_button('心')" style="background-color: rgb(0, 8, 255);">心</button>
                    <button onclick="press_button('邪')" style="background-color: rgb(0, 8, 255);">邪</button>
                </div>
                <div class="kb">
                    <button onclick="press_button('莊')" style="background-color: rgb(0, 89, 255);">莊</button>
                    <button onclick="press_button('初')" style="background-color: rgb(0, 89, 255);">初</button>
                    <button onclick="press_button('崇')" style="background-color: rgb(0, 89, 255);">崇</button>
                    <button onclick="press_button('生')" style="background-color: rgb(0, 89, 255);">生</button>
                    <button onclick="press_button('俟')" style="background-color: rgb(0, 89, 255);">俟</button>
                </div>
                <div class="kb">
                    <button onclick="press_button('章')" style="background-color: rgb(0, 187, 255);">章</button>
                    <button onclick="press_button('昌')" style="background-color: rgb(0, 187, 255);">昌</button>
                    <button onclick="press_button('常')" style="background-color: rgb(0, 187, 255);">常</button>
                    <button onclick="press_button('書')" style="background-color: rgb(0, 187, 255);">書</button>
                    <button onclick="press_button('船')" style="background-color: rgb(0, 187, 255);">船</button>
                </div>
            </div>
            <div class="area">
                <div class="kb">
                    <button onclick="press_button('見')" style="background-color: rgb(251, 255, 0);">見</button>
                    <button onclick="press_button('溪')" style="background-color: rgb(251, 255, 0);">溪</button>
                    <button onclick="press_button('群')" style="background-color: rgb(251, 255, 0);">群</button>
                    <button onclick="press_button('疑')" style="background-color: rgb(251, 255, 0);">疑</button>
                </div>
                <div class="kb">
                    <button onclick="press_button('影')" style="background-color: rgb(255, 162, 0);">影</button>
                    <button onclick="press_button('云')" style="background-color: rgb(255, 162, 0);">云</button>
                    <button onclick="press_button('以')" style="background-color: rgb(255, 162, 0);">以</button>
                    <button onclick="press_button('曉')" style="background-color: rgb(255, 162, 0);">曉</button>
                    <button onclick="press_button('匣')" style="background-color: rgb(255, 162, 0);">匣</button>
                </div>
                <div class="kb">
                    <button onclick="press_button('來')" style="background-color: rgb(170, 0, 255);">來</button>
                    <button onclick="press_button('日')" style="background-color: rgb(170, 0, 255);">日</button>
                </div>
            </div>
        </div>
        <script>
        let csvData=[];
        let lenData;
        let ran=0;
        let num=0;
        let wrong=0;
        fetch('data/聲母.csv')
        .then(response => response.text())
        .then(csvText => {
            // 處理 csvText
            const rows = csvText.trim().split('\n');
            csvData = rows.map(row => row.split(','));
            lenData = rows.length
        });
        </script>
        <script>
            function press_button(char){
                const input = document.getElementById("input_box");
                num+=1;
                if (num==1){
                    input.innerText='正式開始';
                }else{
                    if (csvData[ran][1].trim()===char){
                        input.innerText='正確'+'，目前錯'+wrong+'個，第'+num+'題';
                    }else{
                        wrong+=1;
                        input.innerText='錯誤，'+csvData[ran][0].trim()+'是'+csvData[ran][1].trim()+'母，目前錯'+wrong+'個，第'+num+'題';
                    };
                }
                    ran=Math.floor(Math.random()*lenData);
                    document.getElementById("word").innerText = csvData[ran][0];
                
            }
        </script>

    </body>
</html>